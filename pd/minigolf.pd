#N canvas 855 128 1017 917 10;
#X obj 77 466 hsl 500 30 8 800 1 0 N empty empty -2 -8 0 10 -33289
-228856 -1 2900 0;
#X obj 289 311 vsl 30 70 0 1 0 0 vol empty Vol 0 -9 0 10 -191407 -1
-1 4900 1;
#X msg 513 81 \; pd dsp \$1;
#X obj 514 50 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 79 692 hsl 30 15 0 500 0 1 empty pm-mod empty -2 -8 0 10 -262144
-1 -1 100 1;
#N canvas 557 193 590 640 pm 0;
#X obj 286 344 *~;
#X floatatom 261 264 0 0 0 0 - - -;
#X floatatom 91 265 0 0 0 0 - - -;
#X obj 196 364 +~;
#X floatatom 332 268 0 0 0 0 - - -;
#X text 33 266 carrier;
#X text 177 265 modulation;
#X text 406 317 index;
#X text 409 303 modulation;
#X obj 261 289 osc~;
#X obj 105 562 *~;
#X obj 195 408 cos~;
#X obj 90 300 phasor~;
#X obj 332 306 lop~ 3;
#X floatatom 244 221 12 0 0 0 - - -;
#X msg 344 144 2;
#X msg 401 144 0.5;
#X msg 439 180 1.61803;
#X obj 244 184 * 1.61803;
#X obj 537 221 / 1.61803;
#X msg 533 177 1;
#X floatatom 537 258 12 0 0 0 - - -;
#X msg 489 224 \$1;
#X obj 141 106 inlet;
#X obj 143 132 t f f;
#X obj 245 56 inlet;
#X obj 157 456 hip~;
#N canvas 676 234 500 471 tabs 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array pm-signal 882 float 0;
#X coords 0 1.02 882 -1.02 200 80 1 0 0;
#X restore 153 78 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array pm-spectrum 259 float 0;
#X coords 0 0.51 258 -0.008 259 130 1 0 0;
#X restore 123 225 graph;
#X text 162 164 ---- 0.02 seconds ----;
#X text 153 356 2;
#X text 184 356 4;
#X text 123 356 0;
#X text 161 371 -- partial number --;
#X text 217 58 WAVEFORM;
#X text 217 207 SPECTRUM;
#X text 383 341 0;
#X text 384 223 0.5;
#X text 216 356 6;
#X text 249 356 8;
#X text 277 356 10;
#X text 309 356 12;
#X text 341 356 14;
#X restore 284 492 pd tabs;
#N canvas 117 241 558 609 fft 0;
#X obj 19 61 inlet~;
#X obj 208 212 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 83 61 signal to analyze;
#X text 193 164 delay two samples;
#X text 191 182 for better graphing;
#X obj 19 459 samplerate~;
#X obj 19 436 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X floatatom 19 506 5 0 0 0 - - -;
#X obj 19 482 / 256;
#X obj 19 412 loadbang;
#X obj 75 528 s fundamental;
#X text 17 359 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256.;
#X obj 231 259 metro 500;
#X obj 231 236 inlet;
#X text 284 234 toggle to graph repeatedly;
#X text 262 212 bang to graph once;
#X obj 19 528 t b f;
#X msg 19 551 \; cm 6;
#X text 25 585 set carrier multiplier after fundamental;
#X obj 29 205 /~ 4096;
#X msg 209 322 \; pd dsp 1;
#X obj 19 295 tabwrite~ pm-signal;
#X obj 231 298 tabwrite~ pm-spectrum;
#X connect 0 0 2 0;
#X connect 0 0 31 0;
#X connect 1 0 30 0;
#X connect 1 0 31 0;
#X connect 1 0 32 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 29 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 26 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 31 0;
#X connect 22 0 32 0;
#X connect 23 0 22 0;
#X connect 23 0 30 0;
#X connect 26 0 27 0;
#X connect 26 1 20 0;
#X connect 29 0 32 0;
#X restore 263 459 pd fft;
#X obj 323 438 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 323 459 tgl 18 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
1;
#X text 344 458 <-- repeatedly;
#X obj 462 103 send vol-pm;
#X obj 457 68 inlet vol-pm;
#X obj 145 533 r vol-pm;
#X obj 95 596 throw~ somOut;
#X connect 0 0 3 1;
#X connect 1 0 9 0;
#X connect 2 0 12 0;
#X connect 3 0 11 0;
#X connect 4 0 13 0;
#X connect 9 0 0 0;
#X connect 10 0 35 0;
#X connect 11 0 26 0;
#X connect 11 0 28 0;
#X connect 12 0 3 0;
#X connect 13 0 0 1;
#X connect 15 0 18 1;
#X connect 16 0 18 1;
#X connect 17 0 18 1;
#X connect 18 0 14 0;
#X connect 18 0 1 0;
#X connect 19 0 21 0;
#X connect 19 0 22 0;
#X connect 20 0 19 0;
#X connect 22 0 18 1;
#X connect 23 0 24 0;
#X connect 24 0 2 0;
#X connect 24 1 18 0;
#X connect 25 0 4 0;
#X connect 26 0 10 0;
#X connect 29 0 28 1;
#X connect 30 0 28 2;
#X connect 33 0 32 0;
#X connect 34 0 10 1;
#X restore 52 721 pd pm;
#X obj 54 665 t f f f;
#X obj 65 886 dac~;
#X obj 64 755 catch~ somOut;
#X obj 117 650 vsl 15 60 0 1 0 0 empty pm-vol empty 0 -9 0 10 -261234
-1 -1 0 1;
#X obj 105 857 r vol;
#X obj 74 856 *~;
#X obj 54 630 r N;
#N canvas 690 453 474 523 anha 0;
#X obj 122 381 cos~;
#X floatatom 60 205 4 0 200 0 - - -;
#X obj 60 228 / 10;
#X text 60 124 center;
#X text 60 144 freq. (in;
#X text 60 164 tenths of;
#X text 60 184 fundamental);
#X floatatom 178 159 4 0 0 0 - - -;
#X text 154 112 fundamental;
#X text 154 132 (= mod freq);
#X text 251 208 index;
#X text 251 228 (percent);
#X floatatom 251 249 4 0 500 0 - - -;
#X obj 251 318 line~;
#X obj 201 338 *~;
#X obj 251 272 / 100;
#X obj 251 295 pack 0 50;
#X obj 122 358 +~;
#X text 204 364 modulating;
#X text 209 381 oscillator;
#X obj 122 428 hip~;
#N canvas 121 381 530 445 fft 0;
#X obj 23 55 inlet~;
#X obj 210 303 inlet;
#X obj 27 215 rfft~;
#X obj 27 248 *~;
#X obj 58 248 *~;
#X obj 27 278 sqrt~;
#X obj 334 200 block~ 4096 1;
#X obj 27 304 biquad~ 0 0 0 0 1;
#X text 91 216 Fourier series;
#X text 96 269 magnitude;
#X text 94 254 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 83 61 signal to analyze;
#X text 195 255 delay two samples;
#X text 193 273 for better graphing;
#X obj 292 79 samplerate~;
#X obj 240 352 metro 500;
#X obj 240 329 inlet;
#X text 293 327 toggle to graph repeatedly;
#X text 264 303 bang to graph once;
#X obj 27 328 /~ 4096;
#X obj 292 54 bang~;
#X msg 211 413 \; pd dsp 1;
#X obj 292 102 / 4096;
#X obj 58 135 osc~;
#X obj 58 163 +~ 1;
#X obj 28 188 *~;
#X text 113 138 hanning window;
#X obj 254 79 0.5;
#X obj 240 390 tabwrite~ F11-spectrum;
#X connect 0 0 26 0;
#X connect 1 0 22 0;
#X connect 1 0 29 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 20 0;
#X connect 15 0 23 0;
#X connect 16 0 29 0;
#X connect 17 0 16 0;
#X connect 17 0 22 0;
#X connect 20 0 29 0;
#X connect 21 0 15 0;
#X connect 21 0 28 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 26 1;
#X connect 26 0 2 0;
#X connect 28 0 24 1;
#X restore 176 428 pd fft;
#X obj 236 407 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 236 428 tgl 18 0 empty empty empty 0 -6 0 8 -262144 -1 -1 0
1;
#X text 257 427 <-- repeatedly;
#X text 258 407 <-- graph once;
#X obj 81 281 *;
#X obj 60 254 t b f;
#X obj 201 315 osc~;
#X obj 122 322 phasor~;
#N canvas 786 149 450 300 tab 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array F11-spectrum 259 float 0;
#X coords 0 0.51 258 -0.008 256 130 1;
#X restore 54 75 graph;
#X text 46 206 0;
#X text 108 216 -- frequency --;
#X text 283 211 2700;
#X restore 373 244 pd tab;
#X text 31 30 if you just slide the carrier frequency spectrum moves
up and down all right \, but is only periodic at the original period
when the center frequency roosts on a harmonic.;
#X obj 125 498 throw~ somOut;
#X obj 128 463 *~;
#X obj 204 469 r vol-anha;
#X obj 384 89 inlet vol-anha;
#X obj 385 120 s vol-anha;
#X obj 54 86 inlet carrier-f;
#X text 119 12 TWO-COSINE CARRIER TO FM (anharmonic);
#X obj 181 89 inlet mod-an;
#X obj 280 91 inlet ind-an;
#X connect 0 0 20 0;
#X connect 0 0 21 0;
#X connect 1 0 2 0;
#X connect 2 0 27 0;
#X connect 7 0 26 0;
#X connect 7 0 28 0;
#X connect 12 0 15 0;
#X connect 13 0 14 1;
#X connect 14 0 17 1;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 17 0 0 0;
#X connect 20 0 33 0;
#X connect 22 0 21 1;
#X connect 23 0 21 2;
#X connect 26 0 29 0;
#X connect 27 0 26 0;
#X connect 27 1 26 1;
#X connect 28 0 14 0;
#X connect 29 0 17 0;
#X connect 33 0 32 0;
#X connect 34 0 33 1;
#X connect 35 0 36 0;
#X connect 37 0 1 0;
#X connect 39 0 7 0;
#X connect 40 0 12 0;
#X restore 300 756 pd anha;
#X obj 383 670 vsl 15 60 0 1 0 0 empty an-vol empty 0 -9 0 10 -203904
-1 -1 2500 1;
#X obj 305 606 vsl 15 128 0 2000 0 0 empty mod-an empty 0 -9 0 10 -262144
-1 -1 148 1;
#X obj 334 606 vsl 15 128 0 500 0 0 empty ind-an empty 0 -9 0 10 -262144
-1 -1 9222 1;
#N canvas 769 678 450 300 conn 0;
#X msg 146 84 disconnect;
#X msg 146 59 connect localhost 3001;
#X floatatom 146 189 0 0 0 0 - - -;
#X obj 146 162 netsend -u;
#X msg 163 137 send N \$1;
#X obj 163 113 r N;
#X obj 195 194 print backward;
#X obj 103 10 inlet;
#X obj 102 33 sel 1 0;
#X connect 0 0 3 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 8 1 0 0;
#X restore 543 53 pd conn;
#X obj 98 804 *~;
#X obj 449 697 bng 100 250 50 0 B empty bangMe 26 28 0 10 -204786 -1
-1;
#N canvas 676 224 388 300 pulse 0;
#X obj 154 151 delay 100;
#X obj 73 174 pack 1 f;
#X obj 164 178 pack 0 f;
#X obj 122 107 t b b;
#X floatatom 71 135 5 0 0 0 A - -;
#X floatatom 199 119 5 0 0 0 S - -;
#X floatatom 279 125 5 0 0 0 R - -;
#X obj 134 30 inlet A;
#X obj 218 33 inlet S;
#X obj 288 34 inlet R;
#X obj 23 22 r B;
#X obj 135 215 line~;
#X obj 138 240 *~;
#X obj 127 271 s~ pulse;
#X connect 0 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 11 0;
#X connect 3 0 0 0;
#X connect 3 1 1 0;
#X connect 4 0 1 1;
#X connect 5 0 0 1;
#X connect 6 0 2 1;
#X connect 7 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 6 0;
#X connect 10 0 3 0;
#X connect 11 0 12 0;
#X connect 11 0 12 1;
#X connect 12 0 13 0;
#X restore 378 838 pd pulse;
#X floatatom 349 811 5 0 0 0 A A-r -;
#X floatatom 399 810 5 0 0 0 S S-r -;
#X floatatom 448 810 5 0 0 0 R R-r -;
#X obj 449 661 metro 432;
#X obj 450 634 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 489 624 hsl 100 30 0 1500 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 499 1;
#X text 397 284 type of sounds: 1 - only pm \, mod with index 1.5;
#X obj 437 591 r N;
#X obj 190 763 r~ pulse;
#X obj 231 800 tgl 50 0 empty empty empty 17 7 0 10 -261682 -1 -1 1
1;
#X obj 169 800 *~;
#X msg 216 859 1;
#X obj 249 854 sel 0;
#N canvas 657 141 450 300 Obs 0;
#X text 18 15 setups;
#X msg 20 62 \; pm-mod 25 \; pm-vol 0.1 \; cp-vol 0.05 \; mod-an 45
\; ind-an 20 \; an-vol 0.8 \; A-r 25 \; S-r 680 \; R-r \;;
#X msg 123 59 \; pm-mod 25 \; pm-vol 0.1 \; cp-vol 0.5 \; mod-an 1925
\; ind-an 20 \; an-vol 0.8 \; A-r 25 \; S-r 50 \; R-r 444 \;;
#X msg 252 68 \; pm-mod 1.2 \; pm-vol 0.9 \; cp-vol 0.2 \; mod-an 100
\; ind-an 200 \; an-vol 0.2 \; A-r 25 \; S-r 50 \; R-r 880 \;;
#X restore 404 341 pd Obs;
#X floatatom 27 810 5 0 0 0 - - -;
#X text 272 515 2000;
#X text 308 514 500;
#X text 290 779 comment;
#X obj 493 347 wii_control;
#X floatatom 729 458 5 0 0 0 - - -;
#X obj 718 428 r wii-pitch;
#X floatatom 753 499 12 0 0 0 - - -;
#X obj 694 474 expr ($f1+3.1428)/6.28;
#X floatatom 689 545 12 0 0 0 - - -;
#X obj 691 521 moses 0.2;
#X obj 708 578 moses 0.74;
#X floatatom 737 618 12 0 0 0 - - -;
#X obj 733 673 s wii-swipe;
#X obj 144 434 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 64 442 expr $f1 -0;
#X floatatom 75 507 12 0 0 0 - - -;
#X msg 135 29 listen 8888;
#X obj 113 56 netreceive -u -b;
#X obj 110 93 unpackOSC;
#X floatatom 153 194 5 0 0 0 - - -;
#X obj 307 86 abs;
#X obj 65 81 vsl 15 128 0 1000 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 172 143 routeOSC /vel /bhd /bha /bod;
#X floatatom 207 210 5 0 0 0 - - -;
#X floatatom 263 205 5 0 0 0 - - -;
#X floatatom 314 201 5 0 0 0 - - -;
#X floatatom 380 193 5 0 0 0 - - -;
#X obj 153 238 sel 0;
#X floatatom 47 337 5 0 0 0 - - -;
#X obj 164 286 max 8;
#X obj 74 296 line 1 100;
#X obj 208 170 sel 0;
#X msg 77 260 \$1 200;
#X obj 85 833 lop~ 400;
#X obj 216 298 line 1 100;
#X msg 219 262 \$1 200;
#X obj 108 396 *;
#X obj 123 330 expr (($f1/1102 - 1)*20);
#X obj 45 362 expr ($f1/1102)*3200;
#X obj 305 249 expr ($f1/1102)*3200;
#X obj 589 173 print;
#X connect 0 0 51 0;
#X connect 3 0 2 0;
#X connect 3 0 17 0;
#X connect 4 0 5 1;
#X connect 4 0 35 0;
#X connect 6 0 5 0;
#X connect 6 2 13 0;
#X connect 8 0 18 0;
#X connect 8 0 69 0;
#X connect 9 0 5 2;
#X connect 10 0 11 1;
#X connect 11 0 7 0;
#X connect 11 0 7 1;
#X connect 12 0 6 0;
#X connect 14 0 13 3;
#X connect 15 0 13 1;
#X connect 16 0 13 2;
#X connect 18 0 69 0;
#X connect 21 0 20 0;
#X connect 22 0 20 1;
#X connect 23 0 20 2;
#X connect 24 0 19 0;
#X connect 25 0 24 0;
#X connect 26 0 24 1;
#X connect 28 0 19 0;
#X connect 29 0 31 0;
#X connect 30 0 31 1;
#X connect 30 0 33 0;
#X connect 31 0 18 1;
#X connect 33 0 32 0;
#X connect 41 0 40 0;
#X connect 41 0 43 0;
#X connect 43 0 42 0;
#X connect 43 0 45 0;
#X connect 45 0 44 0;
#X connect 45 1 46 0;
#X connect 46 0 48 0;
#X connect 46 1 47 0;
#X connect 50 0 0 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 54 0 58 0;
#X connect 55 0 63 0;
#X connect 58 0 55 0;
#X connect 58 1 67 0;
#X connect 58 2 60 0;
#X connect 58 3 61 0;
#X connect 58 4 62 0;
#X connect 59 0 71 0;
#X connect 61 0 76 0;
#X connect 63 1 65 0;
#X connect 65 0 68 0;
#X connect 66 0 64 0;
#X connect 66 0 74 0;
#X connect 67 1 59 0;
#X connect 68 0 66 0;
#X connect 69 0 11 0;
#X connect 70 0 73 0;
#X connect 71 0 70 0;
#X connect 72 0 26 0;
#X connect 73 0 72 0;
#X connect 73 0 72 1;
#X connect 74 0 15 0;
